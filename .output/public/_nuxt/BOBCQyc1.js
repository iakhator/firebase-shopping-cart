import{_ as Q,u as R,n as j,r as y,p as z,q as E,s as L,v as w,x as M,y as l,o as c,w as r,b as i,a as e,z as o,t as d,c as f,A as x,F as I,B as O,C as Y,d as b,D as G}from"./BO5pRF5d.js";const H=["src"],J={class:"item__contents-specifications"},K={class:"item__contents-spec"},W={class:"variant"},X={class:"item__contents-quantity"},Z={class:"item__contents-quantity"},tt={class:"item__contents-quantity-price"},et={class:"item__contents-variant"},ot={key:0,class:"error el-tag--danger"},nt={class:"action-button"},st={__name:"[itemId]",async setup(at){let _,g;const h=R(),B=j(),{toUSD:N}=G(),m=y(""),a=z({qty:1});let p=y("");y(!0);const v=B.params.itemId,C=E(()=>s.value.price*a.qty),{data:s}=([_,g]=L(()=>M("items",()=>$fetch(`/api/products/${v}`))),_=await _,g(),_);function S(u){a.qty=u}function U(){const u={variantId:m.value,quantity:a.qty,title:s.value.itemTitle,price:C.value||s.value.price,itemPhoto:s.value.imageUrl||"",productId:v};u.variantId?(h.addToCart(u,v),p.value=""):p.value="You must select a variant"}function A(){}return(u,t)=>{const q=l("el-col"),D=l("el-input-number"),P=l("el-radio-button"),T=l("el-radio-group"),V=l("el-button"),$=l("el-form"),F=l("el-row");return c(),w(F,{class:"product__grid product"},{default:r(()=>[i(q,{md:10},{default:r(()=>[e("div",null,[e("img",{src:o(s).imageUrl,class:"img-fluid ${3|rounded-top,rounded-right,rounded-bottom,rounded-left,rounded-circle,|}",alt:""},null,8,H)])]),_:1}),i(q,{md:14,class:"item__contents"},{default:r(()=>[e("h3",null,d(o(s).title),1),e("div",J,[(c(!0),f(I,null,x(o(s).specification,(n,k)=>(c(),f("p",{key:k},[e("span",K,d(k)+" :",1),b(" "+d(n),1)]))),128))]),i($,{ref_key:"form",ref:a,model:o(a)},{default:r(()=>[e("div",W,[e("div",X,[t[2]||(t[2]=e("span",{class:"item__contents-spec-variant"},"Quantity :",-1)),i(D,{modelValue:o(a).qty,"onUpdate:modelValue":t[0]||(t[0]=n=>o(a).qty=n),min:1,max:3,onChange:S},null,8,["modelValue"])]),e("div",Z,[t[3]||(t[3]=e("span",{class:"item__contents-quantity-label"},"Price :",-1)),e("span",tt,d(o(N)(o(C))),1)]),e("div",et,[t[4]||(t[4]=e("p",{class:"item__contents-spec-variant"},"Select variant:",-1)),i(T,{modelValue:o(m),"onUpdate:modelValue":t[1]||(t[1]=n=>O(m)?m.value=n:null)},{default:r(()=>[(c(!0),f(I,null,x(o(s).variant,n=>(c(),w(P,{key:n,label:n,value:n},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),o(p)?(c(),f("p",ot,d(o(p)),1)):Y("",!0)])]),e("div",nt,[i(V,{round:"",class:"action-button-cart",onClick:U},{default:r(()=>t[5]||(t[5]=[b(" Add to cart ")])),_:1}),i(V,{round:"",class:"black",onClick:A},{default:r(()=>t[6]||(t[6]=[b("Buy now")])),_:1})])]),_:1},8,["model"])]),_:1})]),_:1})}}},rt=Q(st,[["__scopeId","data-v-b3f6e9c4"]]);export{rt as default};
