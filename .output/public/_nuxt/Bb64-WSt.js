import{_ as F}from"./BOxZSA2b.js";import{U as N}from"./BOVI2s0H.js";import{n as U,y as m,O as h,l as q,o as f,w as _,a as k,b as l,c as B,G as E,m as a,t as I,U as R,R as S}from"./CJ91jfVQ.js";/* empty css        *//* empty css        */const b={key:0,class:"el-form-item__error"},z={__name:"AccountRegister",props:{showSignIn:{type:Function,default:()=>{}}},emits:["close-dialog"],setup(x,{emit:V}){const w=U(),p=V,u=m(""),c=m(),r=m({firstname:"",lastname:"",email:"",password:""}),v=h({firstname:[{required:!0,message:"FirstName is required",trigger:"change"}],lastname:[{required:!0,message:"LastName is required",trigger:"change"}],email:[{type:"email",required:!0,message:"Email is required",trigger:"change"}],password:[{required:!0,message:"Password is required",trigger:"change"},{min:6,message:"Length should be atleast 6",trigger:"change"}]}),d=m(!1);async function y(i){var e,t;d.value=!0;try{let o;if(!i)return;if(await i.validate(n=>{o=n}),o){const n={email:r.value.email,password:r.value.password,firstName:r.value.firstname,lastName:r.value.lastname};await w.signUp(n)&&(i.resetFields(),p("close-dialog"))}}catch(o){u.value=((t=(e=o.response)==null?void 0:e.data)==null?void 0:t.error)||"Something happened"}finally{d.value=!1,p("close-dialog")}}return(i,e)=>{const t=F,o=N,n=R,g=S;return f(),q(g,{ref_key:"ruleFormRef",ref:c,model:a(r),rules:a(v),class:"account__register register"},{default:_(()=>[e[5]||(e[5]=k("div",{class:"icon-container"},"Create an Account",-1)),l(t,{modelValue:a(r).email,"onUpdate:modelValue":e[0]||(e[0]=s=>a(r).email=s),prop:"email",placeholder:"Email"},null,8,["modelValue"]),l(t,{modelValue:a(r).firstname,"onUpdate:modelValue":e[1]||(e[1]=s=>a(r).firstname=s),prop:"firstname",placeholder:"FirstName"},null,8,["modelValue"]),l(t,{modelValue:a(r).lastname,"onUpdate:modelValue":e[2]||(e[2]=s=>a(r).lastname=s),prop:"lastname",placeholder:"LastName"},null,8,["modelValue"]),l(t,{modelValue:a(r).password,"onUpdate:modelValue":e[3]||(e[3]=s=>a(r).password=s),prop:"password",placeholder:"Password",type:"password"},null,8,["modelValue"]),a(u)?(f(),B("div",b,I(a(u)),1)):E("",!0),l(n,{class:"account__form"},{default:_(()=>[l(o,{size:"large",class:"black",loading:a(d),onClick:e[4]||(e[4]=s=>y(a(c))),label:"REGISTER"},null,8,["loading"])]),_:1})]),_:1,__:[5]},8,["model","rules"])}}};export{z as _};
