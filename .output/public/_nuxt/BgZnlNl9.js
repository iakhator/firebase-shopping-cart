import{y as x,c as h,o as I,a as d,b as s,w as u,m,ao as N,E as k,t as v,ae as w,ap as C,P as S}from"./CJ91jfVQ.js";/* empty css        */import{_ as B}from"./DlAUqK2U.js";const R={class:"counter"},T=["aria-disabled"],D=["contenteditable"],E={__name:"UICounter",props:{modelValue:Number,min:{type:Number,default:1},readonly:{type:Boolean,default:!1}},emits:["update:modelValue","increment","decrement"],setup(n,{emit:f}){const a=n,l=f,i=x(null),p=()=>{l("update:modelValue",a.modelValue+1),l("increment")},g=()=>{a.modelValue>1&&l("update:modelValue",a.modelValue-1),l("decrement")},_=e=>{if(a.readonly){e.preventDefault(),e.target.innerText=a.modelValue;return}const t=window.getSelection(),y=t.getRangeAt(0).startOffset;let o=e.target.innerText.replace(/\D/g,"");o=o?parseInt(o,10):a.min,l("update:modelValue",o),S(()=>{const c=document.createRange();c.setStart(i.value.childNodes[0],Math.min(y,o.toString().length)),c.collapse(!0),t.removeAllRanges(),t.addRange(c)})},b=e=>{let t=parseInt(e.target.innerText.trim());(isNaN(t)||t<a.min)&&(t=a.min),e.target.innerText=t,l("update:modelValue",t)},V=e=>{/[0-9]/.test(e.key)||e.preventDefault()};return(e,t)=>{const r=k;return I(),h("div",R,[d("div",{onClick:g,"aria-disabled":n.modelValue<=n.min,class:"btn",role:"button",tabindex:"0"},[s(r,null,{default:u(()=>[s(m(N))]),_:1})],8,T),d("span",{class:w(["count",{readonly:n.readonly}]),contenteditable:!n.readonly,ref_key:"countSpan",ref:i,onInput:_,onBlur:b,onKeypress:V},v(n.modelValue),43,D),d("div",{onClick:p,class:"btn",role:"button",tabindex:"0"},[s(r,null,{default:u(()=>[s(m(C))]),_:1})])])}}},z=B(E,[["__scopeId","data-v-ff8c4a49"]]);export{z as U};
