import{c as u,o as i,I as U,J as $,am as ce,Q as L,F as de,u as me,r as m,e as M,G as _e,j as ve,g as K,w as n,a0 as pe,b as s,v as y,a1 as fe,M as ge,N as be,d as b,t as r,a as t,h as v,p as we,an as ye,ao as he,ap as xe,aq as Ve,ar as ke,y as Ce}from"./D9U9Eznd.js";/* empty css        *//* empty css        *//* empty css        *//* empty css        *//* empty css        */import{a as Re}from"./DaiQXbFw.js";import{U as P}from"./0wCB_tQN.js";import{U as Ie}from"./CGaAb3Vk.js";import{_ as Y}from"./DlAUqK2U.js";import{u as Ue}from"./CJJL1DRM.js";import{u as $e}from"./C3Ashe_A.js";import"./D3VT9Cgh.js";import"./C9nHfGjo.js";const Be={class:"box-container",role:"radiogroup","aria-label":"Color Variants"},Pe=["aria-checked","tabindex","onClick","onKeydown"],Se={__name:"UIColorBox",props:{variants:{type:Object,required:!0},activeVariant:{type:Object,default:()=>({})}},emits:["update:activeVariant"],setup(h,{emit:S}){const B=h,z=S,V=(d,w)=>{B.activeVariant.color!==d.color&&z("update:activeVariant",d)},g=(d,w)=>{(d.key==="Enter"||d.key===" ")&&V(w)};return(d,w)=>(i(),u("div",Be,[(i(!0),u(U,null,$(h.variants,(_,k)=>(i(),u("div",{key:_.color,class:L(["box",{active:h.activeVariant.color===_.color}]),style:ce({backgroundColor:_.code||_.color}),role:"radio","aria-checked":h.activeVariant.color===_.color,tabindex:h.activeVariant.color===_.color?"0":"-1",onClick:o=>V(_),onKeydown:o=>g(o,_)},null,46,Pe))),128))]))}},ze=Y(Se,[["__scopeId","data-v-b006cce7"]]),Ee={class:"product__item-image"},Te=["src"],Ae={class:"item__contents-head"},Ne={class:"capitalize item__contents-name"},qe={class:"item__contents-quantity-price"},De={class:"item__contents-quantity-price"},Fe={class:"item__contents-description"},Me={class:"item__contents-description"},Oe={class:"variant"},Qe={key:0,class:"item__contents-bundle"},je={class:"item__contents-bundle-options"},Ge={class:"item__contents-variants"},Ke={class:"item__contents-spec-variant"},Le={key:0,class:"error el-tag--danger"},Ye={class:"item__contents-quantity"},He={class:"action-qty"},Je={class:"item__contents-specifications"},We={class:"item__contents-spec"},Xe={class:"review-tab-container"},Ze={key:0,class:"flex items-center mb-4"},et={class:"review-count ml-2 text-gray-500"},tt={key:1,class:"reviews-list mb-8 w-full max-w-2xl"},at={class:"flex items-center mb-2"},st={class:"review-user font-semibold text-primary mr-2"},lt={class:"review-comment text-gray-700 mb-1 text-sm"},ot={class:"review-date text-xs text-gray-400 text-sm"},nt={class:"w-full max-w-md"},it={class:"mb-4 flex flex-col items-start review-rating"},rt={class:"mb-4 flex flex-col items-start review-comment"},ut={key:0,class:"error el-tag--danger"},ct={key:1,class:"mt-4 text-green-600 font-medium"},dt={key:0,class:"similar-products-section"},mt={class:"product__grid-w"},_t=["href"],vt={class:"product__grid-w__list-img"},pt=["src"],ft={class:"product__grid-w__list-content"},gt={class:"product__grid-w__list-title multi-line-ellipsis"},bt={class:"product__grid-w__list-price_fav"},wt={class:"product__grid-w__list-price"},yt={__name:"[itemId]",setup(h){const S=de(),B=Ue(),z=me(),{toUSD:V}=$e(),g=m({}),d=m({}),w=m(1);let _=m("");m(!0);const k=z.params.itemId,o=M(()=>B.product),O=M(()=>g.value.price*w.value),H=M(()=>{var l;return d.value?(l=d.value)==null?void 0:l.imageUrl:""});B.getProduct(k),_e(()=>{var l,e,p;g.value=(l=o.value)!=null&&l.bundles?(e=o.value)==null?void 0:e.bundles[0]:{},d.value=o.value.variant?(p=o.value)==null?void 0:p.variant[0]:{},ne()});const J=m(4.5),W=m(24),C=m(0),E=m(""),R=m(""),T=m(!1),Q=m(!1),j=m("details"),{$toast:X}=ve(),A=m([]);async function Z(){if(!Q.value)try{const l=await $fetch("/api/products/review",{params:{productId:k}});l.success&&(J.value=l.averageRating,W.value=l.totalReviews,A.value=l.reviews||[],Q.value=!0)}catch(l){X.error(result.error),console.error("Failed to load reviews",l)}}function ee(l){return l?new Date(l).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):""}function te(l){l.paneName==="ratings"&&Z()}function ae(){if(!C.value||!R.value.trim()){E.value="Please provide a rating and comment before submitting.",setTimeout(()=>{_.value=""},3e3);return}T.value=!0,$fetch("/api/products/review",{method:"POST",body:{productId:k,userRating:C.value,userComment:R.value}}),setTimeout(()=>{C.value=0,R.value="",T.value=!1},3e3)}function se(l){g.value=l}function le(){console.log("Added to wishlist")}async function oe(){var e,p;if(!d.value){_.value="Please select a color";return}const l={productId:o.value.id,quantity:w.value,originalPrice:(e=g.value)==null?void 0:e.price,name:(p=o.value)==null?void 0:p.name,price:O.value||o.value.price,variant:d.value,bundle:`${g.value.ram}/${g.value.storage}`,imageUrl:o.value.imageUrl||""};S.addToCart(l)}const N=m([]);async function ne(){const l=await $fetch("/api/products/similar",{params:{categoryId:o.value.categoryId,excludeId:k}});N.value=l.products||[]}return(l,e)=>{const p=be,ie=ge,x=fe,G=we,q=pe,D=Ve,F=ke,re=Ce,ue=xe;return i(),K(q,{class:"product__grid product"},{default:n(()=>[s(x,null,{default:n(()=>[s(ie,{separator:"/",class:"mb-4"},{default:n(()=>[s(p,{to:"/"},{default:n(()=>e[6]||(e[6]=[b("Home")])),_:1,__:[6]}),s(p,null,{default:n(()=>e[7]||(e[7]=[b("Categories")])),_:1,__:[7]}),s(p,{to:"/products"},{default:n(()=>e[8]||(e[8]=[b("Products")])),_:1,__:[8]}),s(p,null,{default:n(()=>{var a;return[b(r((a=o.value)==null?void 0:a.name),1)]}),_:1})]),_:1}),s(q,null,{default:n(()=>[s(x,{md:12},{default:n(()=>[t("div",Ee,[t("img",{src:H.value,class:"img-fluid ${3|rounded-top,rounded-right,rounded-bottom,rounded-left,rounded-circle",alt:""},null,8,Te)])]),_:1}),s(x,{md:12,class:"item__contents"},{default:n(()=>{var a,f;return[t("div",Ae,[t("h3",Ne,r((a=o.value)==null?void 0:a.name),1)]),t("div",qe,[t("span",De,r(v(V)(O.value||0)),1)]),t("div",Fe,[t("p",Me,r((f=o.value)==null?void 0:f.description),1)]),t("div",Oe,[s(x,{class:"item__contents-variant"},{default:n(()=>{var I;return[o.value&&((I=o.value.bundles)==null?void 0:I.length)>0?(i(),u("div",Qe,[e[9]||(e[9]=t("p",{class:"item__contents-spec-variant"},[t("span",null,"Bundle Options "),b(": 16GB/256GB ")],-1)),t("div",je,[(i(!0),u(U,null,$(o.value.bundles,c=>(i(),K(v(P),{class:L({"is-active":g.value.id===c.id}),onClick:ht=>se(c),key:c.id,label:`${c==null?void 0:c.ram}/${c==null?void 0:c.storage}`,variant:"transparent",size:"large"},null,8,["class","onClick","label"]))),128))])])):y("",!0),t("div",Ge,[t("p",Ke,[e[10]||(e[10]=t("span",null,"Color",-1)),b(": "+r(("capitalize"in l?l.capitalize:v(Re))(d.value.color)),1)]),s(v(ze),{variants:o.value.variant,activeVariant:d.value,"onUpdate:activeVariant":e[0]||(e[0]=c=>d.value=c)},null,8,["variants","activeVariant"]),v(_)?(i(),u("p",Le,r(v(_)),1)):y("",!0)]),t("div",Ye,[e[11]||(e[11]=t("p",{class:""},[t("span",null,"Quantity"),b(":")],-1)),s(v(Ie),{modelValue:w.value,"onUpdate:modelValue":e[1]||(e[1]=c=>w.value=c)},null,8,["modelValue"])])]}),_:1})]),t("div",He,[s(v(P),{size:"large",class:"black flex-3",onClick:oe,label:"Add to cart"},{icon:n(()=>[s(G,{class:"mr-2"},{default:n(()=>[s(v(ye))]),_:1})]),_:1}),s(v(P),{size:"large",onClick:le,variant:"secondary",label:"Add to wishlist"},{icon:n(()=>[s(G,{class:"mr-2"},{default:n(()=>[s(v(he))]),_:1})]),_:1})])]}),_:1})]),_:1})]),_:1}),s(x,null,{default:n(()=>[s(q,null,{default:n(()=>[s(x,null,{default:n(()=>[s(ue,{modelValue:j.value,"onUpdate:modelValue":e[5]||(e[5]=a=>j.value=a),class:"el-card-options",onTabClick:te},{default:n(()=>[s(D,{label:"Product Details",name:"details"},{default:n(()=>[t("div",Je,[(i(!0),u(U,null,$(o.value.specification,(a,f)=>(i(),u("p",{key:f},[t("span",We,r(f)+" :",1),b(" "+r(a),1)]))),128))])]),_:1}),s(D,{label:"Ratings/Review",name:"ratings"},{default:n(()=>[t("div",Xe,[o.value.averageRating||o.value.totalReviews?(i(),u("div",Ze,[s(F,{modelValue:o.value.averageRating,"onUpdate:modelValue":e[2]||(e[2]=a=>o.value.averageRating=a),disabled:"","show-score":"","text-color":"#000000","score-template":"{value} out of 5",max:5},null,8,["modelValue"]),t("span",et," ("+r(o.value.totalReviews)+" reviews) ",1)])):y("",!0),e[16]||(e[16]=t("div",{class:"w-full border-t my-8"},null,-1)),A.value.length?(i(),u("div",tt,[e[12]||(e[12]=t("h3",{class:"font-bold mb-4 text-gray-800"}," Recent Reviews ",-1)),(i(!0),u(U,null,$(A.value,(a,f)=>(i(),u("div",{key:f,class:"review-card p-4 mb-4 rounded-lg border border-gray-200 bg-white shadow-sm"},[t("div",at,[t("span",st,r(a.userName||"Anonymous"),1),s(F,{"model-value":a.userRating,disabled:"",max:5,size:"small",class:"review-stars"},null,8,["model-value"])]),t("div",lt,r(a.userComment),1),t("div",ot,r(ee(a.createdAt)),1)]))),128))])):y("",!0),t("div",nt,[e[15]||(e[15]=t("h4",{class:"text-lg font-bold mb-4 text-gray-800"}," Rate this item & leave a comment ",-1)),t("div",it,[e[13]||(e[13]=t("label",{class:"mb-2 font-medium text-gray-700"},"Your Rating:",-1)),s(F,{modelValue:C.value,"onUpdate:modelValue":e[3]||(e[3]=a=>C.value=a),max:5,"allow-half":"","show-score":"","score-template":"{value} out of 5","text-color":"#000000"},null,8,["modelValue"])]),t("div",rt,[e[14]||(e[14]=t("label",{class:"mb-2 font-medium text-gray-700"},"Your Comment:",-1)),s(re,{type:"textarea",modelValue:R.value,"onUpdate:modelValue":e[4]||(e[4]=a=>R.value=a),rows:4,placeholder:"Share your experience with this product...",maxlength:"500","show-word-limit":"",class:"w-full"},null,8,["modelValue"])]),E.value?(i(),u("p",ut,r(E.value),1)):y("",!0),s(v(P),{label:"Submit Review",size:"large",variant:"primary",class:"w-full",onClick:ae}),T.value?(i(),u("div",ct," Thank you for your review! ")):y("",!0)])])]),_:1}),s(D,{label:"FAQ"},{default:n(()=>e[17]||(e[17]=[b("FAQ")])),_:1,__:[17]})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),N.value.length?(i(),u("div",dt,[e[18]||(e[18]=t("h3",{class:"section-title mt-4 mb-4 font-briscolade"}," Similar Products ",-1)),t("ul",mt,[(i(!0),u(U,null,$(N.value,a=>{var f,I,c;return i(),u("li",{key:a.id,class:"product__grid-w__list"},[t("a",{href:`/${a.categoryId}/${a.id}`,class:"_p"},[t("span",vt,[t("img",{src:a.imageUrl,alt:"",loading:"lazy"},null,8,pt)]),t("div",ft,[t("span",gt,r(a.name),1),t("span",null,r((f=a==null?void 0:a.bundles[0])==null?void 0:f.ram)+" / "+r((I=a==null?void 0:a.bundles[0])==null?void 0:I.storage),1),t("div",bt,[t("span",wt,r(v(V)(((c=a==null?void 0:a.bundles[0])==null?void 0:c.price)||a.price)),1)])])],8,_t)])}),128))])])):y("",!0)]),_:1})}}},At=Y(yt,[["__scopeId","data-v-33d4d31f"]]);export{At as default};
