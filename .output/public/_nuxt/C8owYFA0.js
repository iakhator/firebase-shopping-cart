import{a6 as y,a7 as P,M as j,y as n,j as R,an as S}from"./CJ91jfVQ.js";const b=y("product",()=>{const{isLoading:p,fetchData:h}=P(),{$toast:o}=j(),r=n([]),u=n(null),c=n(null),m=async a=>{var t,d,g;const e=new URLSearchParams;(t=a==null?void 0:a.brands)!=null&&t.length&&e.set("brands",a.brands.join(",")),(d=a==null?void 0:a.priceRanges)!=null&&d.length&&e.set("priceRanges",a.priceRanges.join(",")),(g=a==null?void 0:a.storage)!=null&&g.length&&e.set("storage",a.storage.join(","));try{const s=await h(`/api/products?${e.toString()}`);r.value=s.products||[]}catch(s){c.value=s.message,o&&o.error(s.message)}},v=async a=>{try{const{data:e,error:t}=await S(`/api/products/${a}`,"$8GdkIvl3GN");if(t.value){o&&o.error(t.value.message||"Failed to load product");return}u.value=e.value.product}catch(e){c.value=e.message,o&&o.error(e.message)}},i=R(()=>r.value||[]);return{isLoading:p,products:r,product:u,errorMessage:c,getAllProducts:m,getProduct:v,getProducts:i}});export{b as u};
